<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Lista de Colaboradores</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 20px;
    }

    h1 {
      text-align: center;
    }

    .filtros {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .filtros input,
    .filtros select {
      padding: 8px;
      font-size: 14px;
      min-width: 180px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,.1);
    }

    th, td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: left;
    }

    th {
      background: #0097CE;
      color: #fff;
    }

    tr:hover {
      background: #f1f1f1;
    }
  </style>
</head>
<body>

<h1>Colaboradores</h1>

<div class="filtros">
  <input type="text" id="filtroMatricula" placeholder="Filtrar por matr√≠cula">
  <input type="text" id="filtroNome" placeholder="Filtrar por nome">
  <select id="filtroBase">
    <option value="">Todas as bases</option>
  </select>
</div>

<table>
  <thead>
    <tr>
      <th>Matr√≠cula</th>
      <th>Nome</th>
      <th>Base</th>
      <th>√öltima Inspe√ß√£o</th>
    </tr>
  </thead>
  <tbody id="tabela-corpo"></tbody>
</table>

<script>
  const colaboradoresRaw = [
    // üëâ mant√©m exatamente sua lista aqui
    "matricula:3093553,nome:'ABMAEL JOSE FERREIRA';base:CABEDELO",
    "matricula:3091079,nome:'ADAELSON DOS SANTOS NASCIMENTO';base:SAP√â",
    'matricula:3091547,nome:'ADEILSON DE FARIAS PEREIRA';base:ITABAIANA'

  ];

  // üîπ Converte string em objeto
  const colaboradores = colaboradoresRaw.map(linha => {
    const partes = linha.split(/[,;]/);
    const obj = { ultimaInspecao: "" };

    partes.forEach(p => {
      let [chave, valor] = p.split(":");
      if (!chave) return;

      chave = chave.trim();
      valor = valor ? valor.replace(/'/g, "").trim() : "";

      obj[chave] = valor;
    });

    return obj;
  });

  const tbody = document.getElementById("tabela-corpo");
  const filtroMatricula = document.getElementById("filtroMatricula");
  const filtroNome = document.getElementById("filtroNome");
  const filtroBase = document.getElementById("filtroBase");

  // üîπ Preenche select de bases
  [...new Set(colaboradores.map(c => c.base).filter(Boolean))]
    .sort()
    .forEach(base => {
      const opt = document.createElement("option");
      opt.value = base;
      opt.textContent = base;
      filtroBase.appendChild(opt);
    });

  function renderTabela() {
    tbody.innerHTML = "";

    const mat = filtroMatricula.value.toLowerCase();
    const nome = filtroNome.value.toLowerCase();
    const base = filtroBase.value;

    colaboradores
      .filter(c =>
        (!mat || (c.matricula || "").toLowerCase().includes(mat)) &&
        (!nome || (c.nome || "").toLowerCase().includes(nome)) &&
        (!base || c.base === base)
      )
      .forEach(c => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${c.matricula || ""}</td>
          <td>${c.nome || ""}</td>
          <td>${c.base || ""}</td>
          <td>${c.ultimaInspecao || "-"}</td>
        `;
        tbody.appendChild(tr);
      });
  }

  filtroMatricula.addEventListener("input", renderTabela);
  filtroNome.addEventListener("input", renderTabela);
  filtroBase.addEventListener("change", renderTabela);

  renderTabela();
</script>

</body>
</html>
